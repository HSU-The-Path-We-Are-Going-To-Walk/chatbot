import requests
from dotenv import loadenv

ROAD_NAME_ADDRESS = os.getenv("ROAD_NAME_ADDRESS")

# API ìš”ì²­ URL
url = "https://business.juso.go.kr/addrlink/addrLinkApi.do"
params = {
    "currentPage": 1,
    "countPerPage": 1,
    "keyword": ,
    "confmKey": ROAD_NAME_ADDRESS,
    "firstSort": "road",
    "resultType": "json"  # JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µë°›ê¸°
}

# API ìš”ì²­
response = requests.get(url, params=params)

# ì‘ë‹µ ë°ì´í„° í™•ì¸ ë° roadAddr ê°’ ì¶”ì¶œ
if response.status_code == 200:
    data = response.json()  # JSON í˜•ì‹ìœ¼ë¡œ ë³€í™˜
    results = data.get("results", {}).get("juso", [])
    
    if results:
        road_addr = results[0].get("roadAddr", "ë„ë¡œëª… ì£¼ì†Œ ì—†ìŒ")
        print(f"ğŸ“ ë„ë¡œëª… ì£¼ì†Œ: {road_addr}")
    else:
        print("âŒ ì£¼ì†Œ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
else:
    print(f"âŒ API ìš”ì²­ ì‹¤íŒ¨: {response.status_code}")
